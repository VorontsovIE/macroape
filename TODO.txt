ToDo:
3) make output of real pvalue in similarity evaluation
4) make verbose output mode which describes parameters
6)
# TODO:  FIX: this test fails due to floating point precision error: estimated threshold is -19.0418 but '-19.0418'.to_f * 10000 = -190417.99999999997
# A workaround exists: we can use fractions, i.e. ('-19.0418'.to_r * 10000).to_f = -190418.0 but it obscures code and being used uncarefully can involve huge slowdown.
# I think, it'd be used only at input to workaround discretization issue
#
#  def test_process_large_pvalue
#    pvalue, threshold, real_pvalue = nil, nil, nil
#    assert_nothing_raised {
#      pvalue, threshold, real_pvalue = Helpers.find_threshold_output('KLF4_f2.pwm -p 0.8').strip.split("\t")
#    }
#    assert_equal '0.8', pvalue
#    assert_equal Helpers.obtain_pvalue_by_threshold("KLF4_f2.pwm #{threshold}"), real_pvalue
#  end


  thresholds and thresholds_weak should return a collection (Array or Hash) when block not given


Specs and tests:
  create spec on use of MaxHashSize, MaxHashSizeDouble
  create spec for testing case when {real_pvalue == 0, threshold == best_score + 1}
  create test for nonuniform word-wise background([1,1,1,1]) and for different backgrounds

Ideas to increase perfomance:
  - Add shifting matrix elements to zero after discreeting - in such case worst suffix is zero at all positions (??! it can significantly obscure code because thresholds will be changed too, and I can't tell what is better: slight perfomance optimization or conciseness of code)
  - (?) Make rearrangment of rows by DIC decreasing in aligned pair of matrices before counting
  - Create JAVA extension for alignment_intersection methods in order to increase perfomance
  - Possibly algorithm shouldn't use hash but had two iterations: at first it determines possible hash scores for every length(if worst suffix is always zero, its flat space of scores at all pwm prefix lengths) of each pwm separately. And after that we can work with arrays which use such scores as indices via additional substructure

Usability issues:
  make preprocess_collection be able to add information to existing collection of motifs. Make able to give collection a name from command line

remove .stdin placeholder. Use tty? method instead

use OptionParser or docopt
make options more uniform so that some of them were reusable(and the question: can I apply two option parsers consequently?)z